# How to design your first programs

## 设计步骤 1：定义目标

用一至两句换表达用户所需的结果，例如；

- 允许用户管理一组用户名称以及关联的电话号码。
- 生成随机的地下城且具有好看的洞穴。
- 生成一组拥有高分红的股票推荐。
- 为从塔顶落下的球需要多长时间着陆而建模。

## 设计步骤 2： 定义需求

需求是对于约束以及能力双方而言的一个好听的词，前者是结果所需的约束条件（例如预算，时间轴，空间，内存等等），后者是程序展示的可以满足用户需求的能力。注意需求类似于专注于”什么（what）“，而不是”如何（how）“。

例如：

- 电话号码需要被存储，所以它们之后可以被重播。
- 随机的地下城应该总是包含一种通关方式。
- 股票推荐应该利用历史的价格数据。
- 用户可以进入塔楼的更高层。
- 需要 7 天之内的可测试版本。
- 程序应该在用户提交需求后的 10 秒之内产生结果。
- 程序应该仅有 0.1% 的崩溃率。

一个简单的问题可能会引出很多需求，同时解决方案并不会”结束“知道满足所有的需求。

## 设计步骤 3：定义工具，目标，以及备用计划

如果是一个有经验的程序员，则会有其他的一些步骤在此，例如：

- 定义目标架构以及/或者操作系统用于运行程序。
- 决定哪些工具能被使用。
- 决定是个人编写还是集体编写程序。
- 定义测试/反馈/发布的策略。
- 定义如何备份代码。

## 设计步骤 4：拆解困难问题成细小的简单问题

真实世界中，用户所执行的任务通常来说很复杂。直接尝试解决这些任务具有很大挑战，这种情况下需要使用**自上而下**的方法来解决问题。也就是说，不是直接解决单个复杂的任务，而是拆解任务至若干子任务，它们每个都可以简单的独立完成。如果子任务解决起来还是很困难，则继续拆解，最终得到可空的最小任务。

## 设计步骤 5：构想出事件的流程

项目有了结构之后便是要决定如何将所有的任务关联起来，即决定执行事件的序列。

## 实现步骤 1：规划 main 函数

例如：

```cpp
int main()
{
//    doBedroomThings();
//    doBathroomThings();
//    doBreakfastThings();
//    doTransportationThings();

    return 0;
}
```

或者：

```cpp
int main()
{
    // Get first number from user
    // getUserInput();

    // Get mathematical operation from user
    // getMathematicalOperation();

    // Get second number from user
    // getUserInput();

    // Calculate result
    // calculateResult();

    // Print result
    // printResult();

    return 0;
}
```

## 实现步骤 2：实现每个函数

每个函数需要：

1. 定义函数原型（输入和输出）
1. 编写函数
1. 测试函数

## 实现步骤 3：最终测试

测试整个项目。

## 其他编写程序时的建议

**程序总是可以简单的启动**。

**逐步增加功能**。

**同一时间关注一块领域**。

**编写代码的同时做好测试**。

**不要预想着前期代码就完美**。
